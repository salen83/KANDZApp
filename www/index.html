<!DOCTYPE html>
<html lang="sr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KANDZApp</title>

<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; }
nav { display:flex; background:#2c3e50; }
nav button { flex:1; padding:10px; color:#fff; background:#34495e; border:none; }
nav button.active { background:#16a085; }
.screen { display:none; padding:10px; overflow-x:auto; }
table { border-collapse:collapse; width:100%; }
table, th, td { border:1px solid #444; }
th, td { padding:5px; text-align:center; }
input { width:100%; border:none; }
textarea { width:100%; box-sizing:border-box; }
.row-btn { color:red; cursor:pointer; }
.action { margin:5px 0; padding:6px 10px; }
</style>
</head>

<body>

<nav>
<button class="tab-btn active" data-target="screen1">Rezultati</button>
<button class="tab-btn" data-target="screen2">Statistika</button>
<button class="tab-btn" data-target="screen3">Budući mečevi</button>
<button class="tab-btn" data-target="screen4">Verovatnoća</button>
<button class="tab-btn" data-target="screen5">TOP 50</button>
</nav>

<!-- SCREEN 1 -->
<div id="screen1" class="screen" style="display:block;">
<h2>Rezultati</h2>

<textarea id="pasteResults" placeholder="Zalepi rezultate (Domacin TAB Gost TAB FT TAB HT)"></textarea>
<button class="action" onclick="pasteResults()">Zalepi više</button>

<button class="action" onclick="addResultRow()">Dodaj red</button>
<button class="action" onclick="clearTable('resultsTable')">Obriši sve</button>

<table id="resultsTable">
<thead>
<tr>
<th>Domacin</th><th>Gost</th><th>FT</th><th>2H</th><th>1H</th><th>X</th>
</tr>
</thead>
<tbody></tbody>
</table>
</div>

<!-- SCREEN 2 -->
<div id="screen2" class="screen">
<h2>Statistika</h2>
<button class="action" onclick="updateStats()">Osveži</button>
<table id="statsTable"><tbody></tbody></table>
</div>

<!-- SCREEN 3 -->
<div id="screen3" class="screen">
<h2>Budući mečevi</h2>

<textarea id="futurePaste" placeholder="Zalepi: Domacin TAB Gost"></textarea>
<button class="action" onclick="pasteFutureMatches()">Zalepi više</button>

<button class="action" onclick="addFutureRow()">Dodaj red</button>

<table id="futureTable">
<thead><tr><th>Domacin</th><th>Gost</th><th>X</th></tr></thead>
<tbody></tbody>
</table>
</div>

<!-- SCREEN 4 -->
<div id="screen4" class="screen">
<h2>Verovatnoća</h2>
<button class="action" onclick="updatePredictions()">Izračunaj</button>
<table id="predictionTable"><tbody></tbody></table>
</div>

<!-- SCREEN 5 -->
<div id="screen5" class="screen">
<h2>TOP 50</h2>
<button class="action" onclick="updateTop50()">Generiši</button>
<table id="top50Table"><tbody></tbody></table>
</div>

<script>
// TABOVI
document.querySelectorAll('.tab-btn').forEach(b=>{
b.onclick=()=>{
document.querySelectorAll('.tab-btn').forEach(x=>x.classList.remove('active'));
b.classList.add('active');
document.querySelectorAll('.screen').forEach(s=>s.style.display='none');
document.getElementById(b.dataset.target).style.display='block';
};
});

// REDOVI
function addResultRow(){ addRow('resultsTable',5); }
function addFutureRow(){ addRow('futureTable',2); }

function addRow(id,cols){
const tr=document.createElement('tr');
for(let i=0;i<cols;i++){
const td=document.createElement('td');
const inp=document.createElement('input');
td.appendChild(inp);
tr.appendChild(td);
}
const del=document.createElement('td');
del.innerHTML='<span class="row-btn">X</span>';
del.onclick=()=>tr.remove();
tr.appendChild(del);
document.querySelector(`#${id} tbody`).appendChild(tr);
}

function clearTable(id){
document.querySelector(`#${id} tbody`).innerHTML='';
}

// BULK RESULTS
function pasteResults(){
const lines=document.getElementById('pasteResults').value.split('\n');
lines.forEach(l=>{
const p=l.split('\t');
if(p.length<4) return;
const tr=document.createElement('tr');
[p[0],p[1],p[2],'',p[3]].forEach(v=>{
const td=document.createElement('td');
const i=document.createElement('input');
i.value=v.trim();
td.appendChild(i);
tr.appendChild(td);
});
const d=document.createElement('td');
d.innerHTML='<span class="row-btn">X</span>';
d.onclick=()=>tr.remove();
tr.appendChild(d);
document.querySelector('#resultsTable tbody').appendChild(tr);
});
document.getElementById('pasteResults').value='';
}

// BULK FUTURE
function pasteFutureMatches(){
const lines=document.getElementById('futurePaste').value.split('\n');
lines.forEach(l=>{
const p=l.split('\t');
if(p.length<2) return;
const tr=document.createElement('tr');
[p[0],p[1]].forEach(v=>{
const td=document.createElement('td');
const i=document.createElement('input');
i.value=v.trim();
td.appendChild(i);
tr.appendChild(td);
});
const d=document.createElement('td');
d.innerHTML='<span class="row-btn">X</span>';
d.onclick=()=>tr.remove();
tr.appendChild(d);
document.querySelector('#futureTable tbody').appendChild(tr);
});
document.getElementById('futurePaste').value='';
}
</script>

</body>
  </html>
